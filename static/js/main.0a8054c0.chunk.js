(this["webpackJsonpmovie-search"]=this["webpackJsonpmovie-search"]||[]).push([[0],{27:function(e,a,t){e.exports=t(38)},32:function(e,a,t){},38:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(15),c=t.n(i),l=(t(32),function(e){return function(a){var t=new TextDecoder("utf-8");fetch("https://imdb-internet-movie-database-unofficial.p.rapidapi.com/film/".concat(e),{method:"GET",headers:{"x-rapidapi-host":"imdb-internet-movie-database-unofficial.p.rapidapi.com","x-rapidapi-key":"54c8ed5f3amsh4ebdfcbc69d85a8p126f77jsn73b94ea62069"}}).then((function(e){e.body.getReader().read().then((function(e){var n=e.value;e.done;return a({type:"SHOW_MOVIE",movie:JSON.parse(t.decode(n))})})).catch((function(){alert("This movie does not exist")}))})).catch((function(){console.log("This movie does not exist")}))}}),o=function(e){return{type:"REMOVE_FAVORITE",id:e}},s=t(7),m=t(10),u=t(12),v=t(13),f=t(2),d=Object(f.b)((function(e){return{favCount:e.favoriteReducer.favorites.length}}))((function(e){var a=e.favCount,t=Object(n.useState)({show:!1,navBtn:"",navMenu:"",navItem:""}),i=Object(v.a)(t,2),c=i[0],l=i[1],o=function(){l(Object(u.a)({},c,{navBtn:"",navMenu:""}))};return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"logo"},r.a.createElement(s.b,{to:"/",onClick:function(){return o()}},r.a.createElement("h2",null,"Movie Search"))),r.a.createElement("nav",{className:"nav"},r.a.createElement("div",{className:"nav-btn".concat(c.navBtn),onClick:function(){!0===c.show?l({show:!1,navBtn:"",navMenu:""}):l({show:!0,navBtn:" close",navMenu:" show"})}},r.a.createElement("div",{className:"btn-line"}),r.a.createElement("div",{className:"btn-line"}),r.a.createElement("div",{className:"btn-line"})),r.a.createElement("ul",{className:"nav-menu".concat(c.navMenu)},r.a.createElement(s.c,{to:"/",className:"nav-link",onClick:function(){return o()}},r.a.createElement("li",{className:"nav-item"},"Home")),r.a.createElement("hr",{className:"nav-line"}),r.a.createElement(s.c,{to:"/favorites",className:"nav-link",onClick:function(){return o()}},r.a.createElement("li",{className:"nav-item"},"Favorites ",r.a.createElement("span",{className:"fav-count"},a))))))})),E=Object(f.b)(null,(function(e){return{showMovie:function(a){""!==a?(e(l(a)),e({type:"SET_LOADER"})):alert("Please, enter a movie")}}}))((function(e){var a=e.showMovie,t=Object(n.useState)({title:""}),i=Object(v.a)(t,2),c=i[0],l=i[1];return r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"search-bar"},r.a.createElement("div",{className:"search-icon",onClick:function(){return a(c.title)}},r.a.createElement("i",{className:"fas fa-search"})),r.a.createElement("input",{type:"text",className:"search-input",placeholder:"search for a movie...",value:c.title,onChange:function(e){return function(e){e.preventDefault(),l({title:e.target.value})}(e)},onKeyDown:function(e){return function(e){13===e.keyCode&&a(c.title)}(e)}}),""!==c.title?r.a.createElement("button",{type:"reset",className:"reset-icon fas fa-times",onClick:function(){l({title:""})}}):r.a.createElement("button",{className:"reset-icon-hidden fas fa-times"})))})),h=function e(a){var t,i=a.movie,c=a.id,l=a.poster,o=a.title,s=a.year,m=a.rating,u=a.plot,f=a.length,d=a.cast,E=a.fav,h=a.addMovieToFavorites,p=a.removeMovieFromFavorites,N=a.loader,b=Object(n.useState)({hasExpired:!1}),g=Object(v.a)(b,2),O=g[0],y=g[1];return N?r.a.createElement("i",{className:"heading fas fa-spinner fa-spin fa-5x"}):""===i.id?r.a.createElement(r.a.Fragment,null,void(t=setTimeout((function(){y({hasExpired:!0})}),6e3)),O.hasExpired?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"heading"},r.a.createElement("i",{className:"heading-item far fa-times-circle fa-5x"}),r.a.createElement("h2",{className:"heading-item"},"No movie found... Try it again")),clearTimeout(t)):r.a.createElement("i",{className:"heading fas fa-spinner fa-spin fa-5x"})):r.a.createElement("div",{className:"movie"},r.a.createElement("img",{className:"movie-poster",src:l,alt:"Movie Poster"}),r.a.createElement("div",{className:"movie-items"},r.a.createElement("h1",{className:"movie-item"},o),r.a.createElement("span",{className:"movie-item"},s),r.a.createElement("div",{className:"movie-item rate-fav"},r.a.createElement("div",{className:"movie-rating"},r.a.createElement("i",{className:"fas fa-star"}," ",r.a.createElement("span",null,m))),E.find((function(e){return e.id===c}))?r.a.createElement("button",{className:"fav-btn fav-btn-disable",onClick:function(){return p(c)}},r.a.createElement("i",{className:"fas fa-heart"},r.a.createElement("span",null," "))):r.a.createElement("button",{className:"fav-btn",onClick:function(){return h(i)}},r.a.createElement("i",{className:"fas fa-heart"},r.a.createElement("span",null," ")))),r.a.createElement("p",{className:"movie-item movie-plot"},u),r.a.createElement("span",{className:"movie-item"},0===f?e.defaultProps.length:f),r.a.createElement("ul",{className:"movie-item"},r.a.createElement("h2",null,"Cast:"),r.a.createElement("hr",null),d.map((function(e){return r.a.createElement("li",null,r.a.createElement("span",{className:"movie-actor"},e.actor)," - ",e.character)})))))};h.defaultProps={title:"No title",year:"Unknown release date",rating:"No rating",plot:"No plot",length:"Unknown length",cast:"Unknown cast"};var p=Object(f.b)((function(e){return{fav:e.favoriteReducer.favorites,loader:e.movieReducer.loader}}),(function(e){return{addMovieToFavorites:function(a){e({type:"ADD_FAVORITE",favorite:a})},removeMovieFromFavorites:function(a){e(o(a))}}}))(h),N=Object(f.b)((function(e){return{movie:e.movieReducer.movie}}))((function(e){var a=e.movie;return r.a.createElement("main",{className:"home"},r.a.createElement(E,null),r.a.createElement(p,{movie:a,id:a.id,poster:a.poster,title:a.title,year:a.year,rating:a.rating,plot:a.plot,length:a.length,cast:a.cast}))})),b=function(e){var a=e.id,t=e.title,n=e.year,i=e.rating,c=e.image,l=e.removeMovieFromFavorites;return r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-image",src:c,alt:"Movie Poster"}),r.a.createElement("div",{className:"card-items"},r.a.createElement("div",{className:"card-title"},r.a.createElement("h2",null,t.length<16?t:t.substr(0,16).concat("..."))),r.a.createElement("span",{className:"card-year"},n),r.a.createElement("div",{className:"rate-fav"},r.a.createElement("div",{className:"movie-rating"},r.a.createElement("i",{className:"fas fa-star"}," ",r.a.createElement("span",null,i))),r.a.createElement(s.b,{to:"favorites",className:"fav-btn fav-btn-disable",onClick:function(){return l(a)}},r.a.createElement("i",{className:"fas fa-heart"}," ")))))};b.defaultProps={title:"No title",year:"Unknown release date",rating:"No rating"};var g=Object(f.b)(null,(function(e){return{removeMovieFromFavorites:function(a){e(o(a))}}}))(b),O=Object(f.b)((function(e){return{fav:e.favoriteReducer.favorites}}),(function(e){return{showMovie:function(a){e(function(e){return{type:"SHOW_MOVIE",movie:e}}(a))}}}))((function(e){var a=e.fav,t=e.showMovie;return r.a.createElement("main",{className:"favorites"},a.find((function(e){return e}))?a.map((function(e){return r.a.createElement(s.b,{to:"/",onClick:function(){return t(e)}},r.a.createElement(g,{id:e.id,title:e.title,year:e.year,rating:e.rating,image:e.poster}))})):r.a.createElement("div",{className:"heading"},r.a.createElement("h2",{className:"heading-item"},"Add a movie to your favorites list..."),r.a.createElement(s.b,{to:"/",className:"heading-item heading-btn fas fa-plus-circle fa-5x"})))})),y=function(){return r.a.createElement(s.a,null,r.a.createElement(d,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0,component:N}),r.a.createElement(m.a,{path:"/favorites",component:O})))},M=t(11),j=t(25),k=t(26),F={movie:[],loader:!0},R={favorites:[]},w=Object(M.createStore)(Object(M.combineReducers)({movieReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0;return"SHOW_MOVIE"===a.type?Object(u.a)({},e,{movie:a.movie,loader:!1}):"SET_LOADER"===a.type?Object(u.a)({},e,{loader:!0}):e},favoriteReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,a=arguments.length>1?arguments[1]:void 0;return"ADD_FAVORITE"===a.type?Object(u.a)({},e,{favorites:e.favorites.concat(a.favorite)}):"REMOVE_FAVORITE"===a.type?Object(u.a)({},e,{favorites:e.favorites.filter((function(e){return e.id!==a.id}))}):e}}),Object(j.composeWithDevTools)(Object(M.applyMiddleware)(k.a))),T=["Inception","Joker","Interstellar","Pulp Fiction","The Godfather","Fight Club","Lord Of The Rings","Blade Runner"];w.dispatch(l(T[Math.floor(Math.random()*T.length)]));var C=function(){return r.a.createElement(f.a,{store:w},r.a.createElement(y,null))};c.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.0a8054c0.chunk.js.map